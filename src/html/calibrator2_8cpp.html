<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Up and Away Testbed Complete Documentation: Calibrator/calibrator2.cpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Up and Away Testbed Complete Documentation
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Calibrator/calibrator2.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A Calibrator to Determine Filtering Paramters.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;opencv2/core/core.hpp&quot;</code><br/>
<code>#include &quot;opencv2/imgproc/imgproc.hpp&quot;</code><br/>
<code>#include &quot;opencv2/highgui/highgui.hpp&quot;</code><br/>
<code>#include &lt;sstream&gt;</code><br/>
<code>#include &lt;curl/curl.h&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#ae29db0acf096715f88cea1dfeec5e524">getOrientation</a> (vector&lt; Point &gt; &amp;pts, Mat &amp;img)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines and prints the angle of each detected object.  <a href="#ae29db0acf096715f88cea1dfeec5e524"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a5822f3acde8b29648b8fb115726a4075">createTrackbars</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the trackbars window that control the color filtering thresholds.  <a href="#a5822f3acde8b29648b8fb115726a4075"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a628dd4a9578d82df0753ce3e7df5617d">morphOps</a> (Mat &amp;thresh)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs morphing operations on objects to facilitate detection.  <a href="#a628dd4a9578d82df0753ce3e7df5617d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a42a460d553c469d5d41b7790d5f77a4d">findObjects</a> (Mat &amp;<a class="el" href="calibrator2_8cpp.html#aabb27b8973575043030df51be47cd24a">image</a>, Mat &amp;original)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects the contours of the objects that match the color parameters and detects their orientation as well.  <a href="#a42a460d553c469d5d41b7790d5f77a4d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a718f9edf6244e85b1195f2d6c0b6fdb5">H_MIN</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum Hue or Red filter value.  <a href="#a718f9edf6244e85b1195f2d6c0b6fdb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#ab78f6f6eb9e0a7b7363de7205469e265">H_MAX</a> = 256</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum Hue or Red filter value.  <a href="#ab78f6f6eb9e0a7b7363de7205469e265"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a80970133e7290ddaa15b6d949fc99420">S_MIN</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum Saturation or Green filter value.  <a href="#a80970133e7290ddaa15b6d949fc99420"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a04632c156a04ad172a367f2760582928">S_MAX</a> = 256</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum Saturation or Green filter value.  <a href="#a04632c156a04ad172a367f2760582928"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#a6238c0ecdac57d88d1f30259c60238cc">V_MIN</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum Value or Blue filter value.  <a href="#a6238c0ecdac57d88d1f30259c60238cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#ae2de9b8731e1c54a74579610837e59c0">V_MAX</a> = 256</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum Value or Blue filter value.  <a href="#ae2de9b8731e1c54a74579610837e59c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibrator2_8cpp.html#aabb27b8973575043030df51be47cd24a">image</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main image pulled from the master camera's URL using curl command.  <a href="#aabb27b8973575043030df51be47cd24a"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A Calibrator to Determine Filtering Paramters. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ahmed Saeed (<a href="mailto:ahmed.saeed@gatech.edu">ahmed.saeed@gatech.edu</a>) </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>June, 2014 This is a simple program that allows for detecting the filtering parameters for each of the colors that are used later by the master camera localization program. The program also allows for the detection of the orientation of each of the detected objects (yellow is the orientation). The program continously pulls footage from the camera and process each frame it pulls. This file is an extantion to the object tracking tutorial by Kyle Hounslow and uses the principal component analysis tutorial for OpenCV made by Robospace. </dd></dl>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae29db0acf096715f88cea1dfeec5e524"></a><!-- doxytag: member="calibrator2.cpp::getOrientation" ref="ae29db0acf096715f88cea1dfeec5e524" args="(vector&lt; Point &gt; &amp;pts, Mat &amp;img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="calibrator2_8cpp.html#ae29db0acf096715f88cea1dfeec5e524">getOrientation</a> </td>
          <td>(</td>
          <td class="paramtype">vector&lt; Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines and prints the angle of each detected object. </p>
<p>This function is based on Robospace's tutorial on principal component analysis for OpenCV. The function detects the two significant eign vectors of the contour of the detected objects and draws the lines representing both vectors (the length and color shows which is which). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pts</td><td>the contour of the detected object which is detected in <a class="el" href="calibrator2_8cpp.html#a42a460d553c469d5d41b7790d5f77a4d" title="Detects the contours of the objects that match the color parameters and detects their orientation as ...">findObjects()</a> function. </td></tr>
    <tr><td class="paramname">img</td><td>the image structure to draw on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5822f3acde8b29648b8fb115726a4075"></a><!-- doxytag: member="calibrator2.cpp::createTrackbars" ref="a5822f3acde8b29648b8fb115726a4075" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="calibrator2_8cpp.html#a5822f3acde8b29648b8fb115726a4075">createTrackbars</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates the trackbars window that control the color filtering thresholds. </p>

</div>
</div>
<a class="anchor" id="a628dd4a9578d82df0753ce3e7df5617d"></a><!-- doxytag: member="calibrator2.cpp::morphOps" ref="a628dd4a9578d82df0753ce3e7df5617d" args="(Mat &amp;thresh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="calibrator2_8cpp.html#a628dd4a9578d82df0753ce3e7df5617d">morphOps</a> </td>
          <td>(</td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>thresh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs morphing operations on objects to facilitate detection. </p>
<p>This function takes in the image after being filtered. Its purpose is to facilitate detecting objects correctly by removing noisy points that match the filtering paramters but are too small to be of interest. Also, it makes large areas larger so that any noise within the object of interest that doesn't match the filtering parameters are removed. In particular, small areas that match the color of interest (i.e. noise) are eroded and removed and large areas that match the color of interest are made larger for easier detection and fusion to eleminate noise. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thresh</td><td>the image after filtering using inRange() function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a42a460d553c469d5d41b7790d5f77a4d"></a><!-- doxytag: member="calibrator2.cpp::findObjects" ref="a42a460d553c469d5d41b7790d5f77a4d" args="(Mat &amp;image, Mat &amp;original)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="calibrator2_8cpp.html#a42a460d553c469d5d41b7790d5f77a4d">findObjects</a> </td>
          <td>(</td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detects the contours of the objects that match the color parameters and detects their orientation as well. </p>
<p>This function takes in the image after being filtered and morphed to detect the contours of the objects of interest. It uses OpenCV's findContours(). It also finds the centroid of each of the detected contours as that is used to represent the location of the detected object. Moreover, the function draws a blue circle that represents that location and uses <a class="el" href="calibrator2_8cpp.html#ae29db0acf096715f88cea1dfeec5e524" title="Determines and prints the angle of each detected object.">getOrientation()</a> to draw the axis representing the contours orientation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the filtered and morphoed image </td></tr>
    <tr><td class="paramname">original</td><td>the original image to draw on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a718f9edf6244e85b1195f2d6c0b6fdb5"></a><!-- doxytag: member="calibrator2.cpp::H_MIN" ref="a718f9edf6244e85b1195f2d6c0b6fdb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#a718f9edf6244e85b1195f2d6c0b6fdb5">H_MIN</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Minimum Hue or Red filter value. </p>

</div>
</div>
<a class="anchor" id="ab78f6f6eb9e0a7b7363de7205469e265"></a><!-- doxytag: member="calibrator2.cpp::H_MAX" ref="ab78f6f6eb9e0a7b7363de7205469e265" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#ab78f6f6eb9e0a7b7363de7205469e265">H_MAX</a> = 256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum Hue or Red filter value. </p>

</div>
</div>
<a class="anchor" id="a80970133e7290ddaa15b6d949fc99420"></a><!-- doxytag: member="calibrator2.cpp::S_MIN" ref="a80970133e7290ddaa15b6d949fc99420" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#a80970133e7290ddaa15b6d949fc99420">S_MIN</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Minimum Saturation or Green filter value. </p>

</div>
</div>
<a class="anchor" id="a04632c156a04ad172a367f2760582928"></a><!-- doxytag: member="calibrator2.cpp::S_MAX" ref="a04632c156a04ad172a367f2760582928" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#a04632c156a04ad172a367f2760582928">S_MAX</a> = 256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum Saturation or Green filter value. </p>

</div>
</div>
<a class="anchor" id="a6238c0ecdac57d88d1f30259c60238cc"></a><!-- doxytag: member="calibrator2.cpp::V_MIN" ref="a6238c0ecdac57d88d1f30259c60238cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#a6238c0ecdac57d88d1f30259c60238cc">V_MIN</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Minimum Value or Blue filter value. </p>

</div>
</div>
<a class="anchor" id="ae2de9b8731e1c54a74579610837e59c0"></a><!-- doxytag: member="calibrator2.cpp::V_MAX" ref="ae2de9b8731e1c54a74579610837e59c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="calibrator2_8cpp.html#ae2de9b8731e1c54a74579610837e59c0">V_MAX</a> = 256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum Value or Blue filter value. </p>

</div>
</div>
<a class="anchor" id="aabb27b8973575043030df51be47cd24a"></a><!-- doxytag: member="calibrator2.cpp::image" ref="aabb27b8973575043030df51be47cd24a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mat <a class="el" href="calibrator2_8cpp.html#aabb27b8973575043030df51be47cd24a">image</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main image pulled from the master camera's URL using curl command. </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 17 2014 15:34:47 for Up and Away Testbed Complete Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
