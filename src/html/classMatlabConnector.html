<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Up and Away Testbed Complete Documentation: MatlabConnector Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Up and Away Testbed Complete Documentation
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">MatlabConnector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="MatlabConnector" -->
<p>The class that connects through sockets to a Matlab server to send it the targets coordinates and get the drones new locations.  
 <a href="classMatlabConnector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MatlabConnector_8h_source.html">MatlabConnector.h</a>&gt;</code></p>

<p><a href="classMatlabConnector-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatlabConnector.html#aec82f9da3418d25096ac1f5033b692f0">MatlabConnector</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor which starts the sockets communication with the server.  <a href="#aec82f9da3418d25096ac1f5033b692f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatlabConnector.html#affaea4f973d97bdcf045b84b8c23b9c1">~MatlabConnector</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class destructor which halts the sockets communication with the server.  <a href="#affaea4f973d97bdcf045b84b8c23b9c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatlabConnector.html#ac01c1c306c4c398655aec7691e3a8130">getDroneNewDist</a> (double droneCoordinates[3][3], uint32_t &amp;numberOfDrones, int targetsColorID, <a class="el" href="classTargetLocator.html">TargetLocator</a> *locator)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sends targets coordinates to the Matlab server and fills droneCoordinates array with drone coordinates as received from the server. [Fix Me!!]  <a href="#ac01c1c306c4c398655aec7691e3a8130"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The class that connects through sockets to a Matlab server to send it the targets coordinates and get the drones new locations. </p>
<p>This class assumes that there is a Matlab server (or any server that wraps the simulation code) running on the local machine listening on port 5000. The server is expected to be waiting first for the number of targets, then for the x coordinate followed by the y coordinate of each target. It then replies with the number of drones, followed by the x coordinate and y coordinate of each drone. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aec82f9da3418d25096ac1f5033b692f0"></a><!-- doxytag: member="MatlabConnector::MatlabConnector" ref="aec82f9da3418d25096ac1f5033b692f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatlabConnector.html#aec82f9da3418d25096ac1f5033b692f0">MatlabConnector::MatlabConnector</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Class constructor which starts the sockets communication with the server. </p>

</div>
</div>
<a class="anchor" id="affaea4f973d97bdcf045b84b8c23b9c1"></a><!-- doxytag: member="MatlabConnector::~MatlabConnector" ref="affaea4f973d97bdcf045b84b8c23b9c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatlabConnector.html#affaea4f973d97bdcf045b84b8c23b9c1">MatlabConnector::~MatlabConnector</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Class destructor which halts the sockets communication with the server. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac01c1c306c4c398655aec7691e3a8130"></a><!-- doxytag: member="MatlabConnector::getDroneNewDist" ref="ac01c1c306c4c398655aec7691e3a8130" args="(double droneCoordinates[3][3], uint32_t &amp;numberOfDrones, int targetsColorID, TargetLocator *locator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMatlabConnector.html#ac01c1c306c4c398655aec7691e3a8130">MatlabConnector::getDroneNewDist</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>droneCoordinates</em>[3][3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>numberOfDrones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetsColorID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTargetLocator.html">TargetLocator</a> *&#160;</td>
          <td class="paramname"><em>locator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sends targets coordinates to the Matlab server and fills droneCoordinates array with drone coordinates as received from the server. [Fix Me!!] </p>
<p>This function queries the <a class="el" href="classTargetLocator.html" title="The class that uses color filters to detect the location of targets and drones (check calibrator2...">TargetLocator</a> object itself to get the most recent coordinates of targets. All communication with the server is made by exchanging integers. We implement this in a very simply way, all doubles are multiplied by 100 at the sender then divided by 100 at the receiver. This is made at both the testbed code and at the server code. This simplifies communication significantly as the server in this case is written in Java wrapped in Matlab and the client is in C [Fix Me!!]. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">droneCoordinates</td><td>array to filled with drone coordinates. The maximum number of drones is 3. (output) </td></tr>
    <tr><td class="paramname">numberOfDrones</td><td>number of required drones as set by the server. (output) </td></tr>
    <tr><td class="paramname">targetsColorID</td><td>the color ID of the targets to query the <a class="el" href="classTargetLocator.html" title="The class that uses color filters to detect the location of targets and drones (check calibrator2...">TargetLocator</a>. We assume that all targets have the same color. [Fix Me!!] </td></tr>
    <tr><td class="paramname">locator</td><td>the <a class="el" href="classTargetLocator.html" title="The class that uses color filters to detect the location of targets and drones (check calibrator2...">TargetLocator</a> object which determines the location of the targets. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Matlab_Communication/<a class="el" href="MatlabConnector_8h_source.html">MatlabConnector.h</a></li>
<li>Matlab_Communication/<a class="el" href="MatlabConnector_8cpp.html">MatlabConnector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 17 2014 15:34:47 for Up and Away Testbed Complete Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
